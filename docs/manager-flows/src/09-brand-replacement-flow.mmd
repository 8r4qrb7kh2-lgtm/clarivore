flowchart TD
  classDef action fill:#ffffff,stroke:#1f4fd7,color:#122044;
  classDef decision fill:#fff8e8,stroke:#b7801f,color:#5b3a00;
  classDef blocked fill:#ffeef0,stroke:#ba1f35,color:#5f0d1a;
  classDef done fill:#ebfff3,stroke:#1f8c4d,color:#0d4a28;

  A([Manager opens Brand items in use]):::action --> B[Search and pick target brand item]:::action
  B --> C[Click Replace item]:::action
  C --> D[Dashboard deep-links to editor with auto-replace params]:::action
  D --> E[Capture/scan replacement product label]:::action
  E --> F[Apply replacement to matching ingredient rows in draft]:::action
  F --> G{Any rows matched?}:::decision
  G -- No --> Gx[Show no rows updated message]:::blocked
  G -- Yes --> H[Open affected dish and review row updates]:::action
  H --> I[Reconfirm affected ingredient rows]:::action
  I --> J[Save to site]:::action
  J --> K([Brand replacement live]):::done
